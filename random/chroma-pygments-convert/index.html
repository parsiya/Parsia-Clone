<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,minimum-scale=1,maximum-scale=1"><link href=/css/fonts.css rel=stylesheet type=text/css><title>Converting Pygments Styles to Chroma</title>
<link rel=stylesheet href=/css/hugo-octopress.css><link rel=stylesheet href=https://parsiya.io/clone.css><link rel=stylesheet href=/css/fork-awesome.min.css><link href=https://parsiya.io/favicon.png rel=icon><meta name=description content><meta name=keywords content="[Parsia Hakimian Parsiya infosec information security]"><meta name=author content="Parsia-Clone"><meta name=generator content="Hugo 0.121.2"><meta name=twitter:card content="summary"><meta name=twitter:title content="Converting Pygments Styles to Chroma"><meta name=twitter:description content="Converting Pygments Styles to Chroma Chroma is a syntax highlighter written in Go. Hugo uses it for internal highlighting. My theme Hugo-Octopress used the solarized dark theme built into the CSS (from Octopress). Chroma does not support this theme, so I had to generate the CSS myself.
Chroma has a built-in tool for converting styles _tools/style.py.
Instructions These steps are for an Ubuntu 16 machine, but can be adapted for any OS."><meta name=twitter:domain content="parsiya.io"><meta name=twitter:creator content="@CryptoGangsta"></head><body><header role=banner><hgroup><h1><a href=https://parsiya.io/>Parsia-Clone</a></h1><h2>'Documentation is a love letter that you write to your future self.' - Damian Conway</h2></hgroup></header><nav role=navigation><fieldset class=mobile-nav><select onchange="location=this.value"><option value>Navigate…</option><option value=https://github.com/parsiya/Parsia-Clone>» Parsia-Clone on Github</option><option value=https://parsiya.net/categories/clone/>» How did I make this?</option><option value=https://parsiya.net>» My Main Website</option></select></fieldset><ul class=main-navigation><li><a href=https://github.com/parsiya/Parsia-Clone title="Parsia-Clone on Github" target=_blank rel="noopener noreferrer">Parsia-Clone on Github</a></li><li><a href=https://parsiya.net/categories/clone/ title="How did I make this?" target=_blank rel="noopener noreferrer">How did I make this?</a></li><li><a href=https://parsiya.net title="My Main Website" target=_blank rel="noopener noreferrer">My Main Website</a></li></ul><ul class=subscription></ul><form action=https://www.google.com/search method=get target=_blank rel="noopener noreferrer"><fieldset role=search><input class=search type=text name=q results=0 placeholder=Search>
<input type=hidden name=q value=site:https://parsiya.io/></fieldset></form></nav><div id=main><div id=content><div><article class=hentry role=article><header><p class=meta>2 minute read
- <a class=label href=https://parsiya.io/categories/random/>Random</a></p><h1 class=entry-title>Converting Pygments Styles to Chroma</h1><a href=https://github.com/parsiya/Parsia-Clone/tree/main/random/chroma-pygments-convert/index.md target=_blank>Github Link</a></header><div class=entry-content><h1 id=converting-pygments-styles-to-chroma>Converting Pygments Styles to Chroma
<a class=header-link href=#converting-pygments-styles-to-chroma><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h1><p><a href=https://github.com/alecthomas/chroma target=_blank rel="noreferrer noopener">Chroma</a> is a syntax highlighter written in Go. <a href=https://gohugo.io/ target=_blank rel="noreferrer noopener">Hugo</a> uses it for internal highlighting. My theme <a href=https://github.com/parsiya/Hugo-Octopress target=_blank rel="noreferrer noopener">Hugo-Octopress</a> used the <a href=https://github.com/john2x/solarized-pygment/ target=_blank rel="noreferrer noopener">solarized dark</a> theme built into the CSS (from Octopress). Chroma does not support this theme, so I had to generate the CSS myself.</p><p>Chroma has a <a href=https://github.com/alecthomas/chroma#styles target=_blank rel="noreferrer noopener">built-in tool for converting styles</a> <code>_tools/style.py</code>.</p><h2 id=instructions>Instructions
<a class=header-link href=#instructions><svg class="fill-current o-60 hover-accent-color-light" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><p>These steps are for an Ubuntu 16 machine, but can be adapted for any OS.</p><ol><li>Install Go, configure <code>GOPATH</code> and the rest.</li><li>Install Chroma with <code>go get github.com/alecthomas/chroma</code>.</li><li>Install Python 3.</li><li>Install Pygments for Python 3: <code>sudo apt-get install python3-pygments</code>.</li><li>Install Pystache for Python 3: <code>sudo apt-get install python3-pystache</code>.</li><li>Clone <code>solarized dark</code>: <code>git clone https://github.com/john2x/solarized-pygment/</code> (do not need to install it).</li><li>(Optional) Rename the three py files inside <code>solarized=pygment/pygments_solarized</code> to more descriptive names. For example <code>dark.py</code> might become <code>solarized-dark.py</code>.</li><li>Open each of them and note the style class name. For example for <code>dark.py</code> it's <code>SolarizedDarkStyle</code>.</li><li>Copy the files to the <code>pygments</code> installation path. On my machine it was:<ul><li><code>/usr/local/lib/python3.5/dist-packages/Pygments-2.2.0-py3.5.egg/pygments/styles</code>.</li></ul></li><li>Use the <code>_tools/style.py</code> to generate <code>go</code> files from styles:<ul><li><code>python3 style.py [style-name] pygments.styles.[py-file-name].[style-class-name] > style-name.go</code><ul><li><code>style-name</code> is a string with new style's name. E.g. <code>solarized-dark</code>.</li><li><code>py-file-name</code> is the name of the <code>py</code> file (w/o extension) that was copied to the Pygments directory. E.g. <code>dark</code>.</li><li><code>style-class-name</code> is the name of the python class inside the style. E.g. <code>SolarizedDarkStyle</code>.</li></ul></li></ul></li><li>My example command was:<ul><li><code>python3 style.py solarized-dark pygments.styles.dark.SolarizedDarkStyle > solarized-dark.go</code></li></ul></li><li>Repeat for any other styles.</li><li>Copy the resulting <code>go</code> files to <code>$GOPATH/Go/src/github.com/alecthomas/chroma/styles</code>.<ul><li>You can open the file to double-check the style name passed to <code>chroma.MustNewStyle</code>:</li><li><code>var SolarizedDark = Register(chroma.MustNewStyle("solarized-dark", chroma.StyleEntries{</code></li></ul></li><li>Now create the following Go application (or copy <code>createCSS.go</code>). Modify the file and style names as needed and execute it:<div class=highlight><pre tabindex=0 style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#719e07>package</span> main
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#719e07>import</span> (
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;os&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;github.com/alecthomas/chroma/formatters/html&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#2aa198>&#34;github.com/alecthomas/chroma/styles&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#268bd2>func</span> <span style=color:#268bd2>main</span>() {
</span></span><span style=display:flex><span>    f, _ <span style=color:#719e07>:=</span> os.<span style=color:#268bd2>Create</span>(<span style=color:#2aa198>&#34;solarized-dark.css&#34;</span>)
</span></span><span style=display:flex><span>    <span style=color:#719e07>defer</span> f.<span style=color:#268bd2>Close</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    formatter <span style=color:#719e07>:=</span> html.<span style=color:#268bd2>New</span>(html.<span style=color:#268bd2>WithClasses</span>())
</span></span><span style=display:flex><span>    <span style=color:#719e07>if</span> err <span style=color:#719e07>:=</span> formatter.<span style=color:#268bd2>WriteCSS</span>(f, styles.<span style=color:#268bd2>Get</span>(<span style=color:#2aa198>&#34;solarized-dark&#34;</span>)); err <span style=color:#719e07>!=</span> <span style=color:#cb4b16>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#b58900>panic</span>(err)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></li><li>Copy/paste the CSS files to your theme's CSS.</li><li>Inside your site's config file:<ul><li>Remove <code>pygmentsUseClassic</code>: This will tell Hugo to use Chroma.</li><li><code>pygmentsuseclasses = true</code>: Use CSS for highlighting.</li><li><code>pygmentscodefences = true</code>: This adds code highlight to code fences.</li></ul></li></ol></div><footer><p class=meta><span class=categories>Tags:
<a class=category href=https://parsiya.io/tags/hugo>Hugo</a> <a class=category href=https://parsiya.io/tags/chroma>Chroma</a></span></p></footer></article></div><aside class="sidebar thirds"><section class="first odd"><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#converting-pygments-styles-to-chroma>Converting Pygments Styles to Chroma</a><ul><li><a href=#instructions>Instructions</a></li></ul></li></ul></nav></section></aside></div></div><footer role=contentinfo><p>Copyright &copy; 2024 Parsia-Clone - <a href=https://parsiya.io/license/>License</a> -
<span class=credit>Powered by <a target=_blank href=https://gohugo.io rel="noopener noreferrer">Hugo</a> and <a target=_blank href=https://github.com/parsiya/hugo-octopress/ rel="noopener noreferrer">Hugo-Octopress</a> theme.</p></footer></body></html>